<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gofit Cloud Kitchen - Order Now</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 20px; background-color: #f0f2f5; color: #333; }
        .container { max-width: 450px; background: white; padding: 25px; border-radius: 15px; margin: auto; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h2 { color: #1a472a; text-align: center; margin-bottom: 5px; }
        p.location { text-align: center; font-size: 0.9em; color: #666; margin-bottom: 20px; }
        label { display: block; margin: 15px 0 5px; font-weight: 600; font-size: 0.9em; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 14px; }
        .note { font-size: 0.8em; color: #d9534f; margin-top: 5px; font-weight: 500; }
        .summary-box { background: #f9f9f9; padding: 15px; border-radius: 8px; margin-top: 20px; border-left: 4px solid #25D366; }
        .summary-box p { margin: 5px 0; font-size: 0.9em; }
        button { width: 100%; padding: 15px; background-color: #25D366; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 20px; transition: 0.3s; }
        button:hover { background-color: #128C7E; }
        button:disabled { background-color: #ccc; cursor: not-allowed; }
    </style>
</head>
<body>

<div class="container">
    <h2>Gofit Cloud Kitchen</h2>
    <p class="location">Jamal Khan, Chittagong</p>
    
    <form id="orderForm">
        <label>Select Your Meal:</label>
        <select id="meal" required>
            <option value="">-- Choose a Meal --</option>
            <option value="Hummus with grilled chicken">Hummus with grilled chicken (500 BDT)</option>
            <option value="Mediterranean ground beef stir fry">Mediterranean ground beef stir fry</option>
            <option value="Chicken ceaser salad">Chicken ceaser salad</option>
            <option value="Glass noodles with king prawn">Glass noodles with king prawn</option>
            <option value="Grilled Lemon Herb Mediterranean Chicken Salad">Grilled Lemon Herb Salad</option>
            <option value="Chicken Burrito Bowl">Chicken Burrito Bowl</option>
            <option value="Tomato poached fish">Tomato poached fish</option>
            <option value="Thai Lettuce Wraps - Larb Gai">Thai Lettuce Wraps</option>
            <option value="Tuna Salad Sandwich">Tuna Salad Sandwich</option>
            <option value="Tuna Mayo Rice Bowl">Tuna Mayo Rice Bowl</option>
        </select>

        <label>Quantity:</label>
        <input type="number" id="quantity" min="1" placeholder="How many meals?" required>

        <label>Delivery Date:</label>
        <input type="date" id="date" required>

        <label>Delivery Time (1 PM - 9 PM):</label>
        <input type="time" id="time" required>
        <p class="note">*Orders must be placed at least 2 hours in advance.</p>

        <label>Full Delivery Address:</label>
        <textarea id="address" rows="2" placeholder="House, Road, Area" required></textarea>

        <label>Payment Method:</label>
        <select id="payment" required>
            <option value="Cash">Cash</option>
            <option value="bKash">bKash</option>
        </select>

        <div class="summary-box">
            <strong>Order Summary:</strong>
            <p id="summaryText">Please fill in the details above...</p>
            <p style="color: #555; font-style: italic;">Note: Delivery charge will be added with this amount.</p>
        </div>
        
        <button type="button" id="sendBtn" onclick="validateAndSend()">Send Order to WhatsApp</button>
    </form>
</div>

<script>
function validateAndSend() {
    const meal = document.getElementById('meal').value;
    const qty = document.getElementById('quantity').value;
    const dateInput = document.getElementById('date').value;
    const timeInput = document.getElementById('time').value;
    const address = document.getElementById('address').value;
    const payment = document.getElementById('payment').value;

    // 1. Check if all fields are filled
    if (!meal || !qty || !dateInput || !timeInput || !address) {
        alert("Please fill in all information before sending.");
        return;
    }

    // 2. Validate Time (1 PM to 9 PM)
    const [hours, minutes] = timeInput.split(':').map(Number);
    if (hours < 13 || hours >= 21) {
        alert("Delivery time must be between 1:00 PM and 9:00 PM.");
        return;
    }

    // 3. Validate 2-hour Lead Time
    const orderDateTime = new Date(`${dateInput}T${timeInput}`);
    const now = new Date();
    const diffInHours = (orderDateTime - now) / (1000 * 60 * 60);

    if (diffInHours < 2) {
        alert("Please place your order at least 2 hours before the delivery time.");
        return;
    }

    // If all valid, send to WhatsApp
    const phone = "8801830365120"; // Your helpline number
    const message = `*NEW ORDER - GOFIT*%0A%0A` +
                    `*Meal:* ${meal}%0A` +
                    `*Quantity:* ${qty}%0A` +
                    `*Date:* ${dateInput}%0A` +
                    `*Time:* ${timeInput}%0A` +
                    `*Address:* ${address}%0A` +
                    `*Payment:* ${payment}%0A%0A` +
                    `_Delivery charge will be added to the total._`;

    window.open(`https://wa.me/${phone}?text=${message}`, '_blank');
}

// Simple dynamic summary update
document.getElementById('orderForm').addEventListener('input', function() {
    const meal = document.getElementById('meal').value || "...";
    const qty = document.getElementById('quantity').value || "0";
    document.getElementById('summaryText').innerText = `${qty} x ${meal}`;
});
</script>

</body>
</html>
